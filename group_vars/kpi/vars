# system 
system_user: kpi
system_group: www-data
system_user_home: "/srv/{{ system_user }}"
monit_scripts: []

# app
app_path: "{{ system_user_home }}/app"
codebase_path: "{{ system_user_home }}/app"
versioned_path: "{{ app_path }}-versioned"
checkout_path: "{{ versioned_path }}/{{ ansible_date_time['epoch'] }}"
aws_email_username: ""
aws_email_password: ""
venv_path: "{{ system_user_home }}/.virtualenvs/{{ system_user }}"
core_url: https://kobo.redcross.or.ke
enketo_url: https://enketo.redcross.or.ke
service_name: "{{ system_user }}"
wsgi_module: kobo.wsgi:application
log_path: /var/log/kpi
static_path: "{{ checkout_path }}/jsapp"
client_max_body_size: 100M
proxy_read_timeout: "300s"
wsgi_processes: 12
pid_file: "/tmp/{{ service_name }}.pid"
enable_https: True
settings_app_name: kobo.local_settings
kpi_broker_url: amqp://{{ system_user }}:{{ system_user }}@localhost:5672
env_name: "prod"
celery_app: "kobo"
# django_secret_key needs to be the same as the one for kobocat
django_secret_key: "{{ vault_django_secret_key }}"

# git
git_branch: master
git_url: https://github.com/kobotoolbox/kpi.git

# rabbitmq
rabbitmq_erlang_cookie: YDJHMWIQKFQBCEIDXOXF
rabbitmq_create_cluster: False
rabbitmq_users:
  - user: admin
    password: admin
    vhost: /
    configure_priv: .*
    read_priv: .*
    write_priv: .*
    tags: administrator
# users to remove
rabbitmq_users_removed: []
# vhosts to create
rabbitmq_vhosts: []

# node 
nvm_version: v0.32.1
node_version: v6.0.0
nvm_node_versions:
  - v6.0.0
nvm_root: "{{ system_user_home }}/.nvm"
nvm_env: user
nvm_users: ["{{ system_user }}"]
node_dir: "{{ nvm_root }}/versions/node/{{ node_version }}"
npm_path: "{{ node_dir }}/bin/npm"
bower_path: "{{ node_dir }}/bin/bower"
grunt_path: "{{ node_dir }}/bin/grunt"

# ssl
nginx_cert_path: "{{ vault_nginx_cert_path }}"
nginx_key_path: "{{ vault_nginx_key_path }}"
ssl_key: "{{ vault_nginx_key_path }}"

